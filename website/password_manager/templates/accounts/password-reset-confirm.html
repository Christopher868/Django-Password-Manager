{% extends "base.html" %}
{% load static %}

<!-- Page specific head elements -->
{% block head %}
    <link rel="stylesheet" href="{% static 'css/accounts/change-pwd.css' %}">
    <link rel="stylesheet" href="{% static 'css/accounts/password-confirm.css' %}">
    <title>Confirm New Password</title>
{% endblock head %}
{% block header %}{% endblock header %}
<!-- Confirm new password page content -->
{% block content %}

    <!-- Confirm new password form -->
     {% if validlink %}
    <form id="change-pwd-form" method="POST" data-check-img-url ="{% static 'images/Green-Checkmark.svg' %}" data-x-img-url ="{% static 'images/Red-X.svg' %}">
        <h1 id="change-pwd-header">Confirm New<br>Password</h1>
        {% csrf_token %}
        <div class="input-container">
            <input type="password" name="{{ form.new_password1.name}}" id="{{ form.new_password1.id_for_label }}" placeholder="Enter new password" required>
            <small id="password1-status-msg">Password must be atleast 8 characters <img id="password1-status-symbol" class="status-symbol" src="{% static 'images/Red-X.svg' %}" alt="Field status symbol"></small>
        </div>    

        <div class="input-container">
            <input type="password" name="{{ form.new_password2.name}}" id="{{ form.new_password2.id_for_label }}" placeholder="Confirm new password" required>
            <small id="password2-status-msg" class="">Passwords must match <img id="password2-status-symbol" class="status-symbol" src="{% static 'images/Red-X.svg' %}" alt="Field status symbol"></small>
        </div>  

        <div id="change-pwd-btn-container">
            <button id="change-pwd-btn" class="button-size disable-effects" type="submit" disabled>Confirm New Password</button>
        </div>
    </form>
    {% else %}
    
    <!-- Message for user if their password reset key has expired -->
    <h2 id="key-expired-msg">Your password reset key has expired<br>Please try again<br><button id="back-to-login-btn"><a href="{% url 'login' %}">Login Page</a></button></h2>
    {% endif %}
{% endblock content %}
{% block script %}<script src="{% static 'js/change-pwd.js' %}"></script>{% endblock script %}